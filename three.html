<!DOCTYPE html>
<html>
<head>
		<title>three.js webgl - loaders - OBJ loader</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<style>
			body {
				font-family: Monospace;
				margin: 0px;
				overflow: hidden;
				background-color:#1D1D1D;
			}
			#info {
				color: #fff;
				position: absolute;
				top: 10px;
				width: 100%;
				text-align: center;
				z-index: 100;
				display:block;
			}
			#info a, .button { color: #f00; font-weight: bold; text-decoration: underline; cursor: pointer }
		</style>
	</head>

<body>
	<script src="build/three.min.js"></script>
    <script type="text/javascript" src="js/loaders/OBJMTLLoader.js"></script>
    <script type="text/javascript" src="js/loaders/OBJLoader.js"></script>
    <script src="js/loaders/DDSLoader.js"></script>
	<script src="js/loaders/MTLLoader.js"></script>
	<script src="js/loaders/OBJMTLLoader.js"></script>

	<script src="js/Detector.js"></script>
	<script src="js/libs/stats.min.js"></script>
    <script src="js/Detector.js"></script>
	<script src="js/libs/stats.min.js"></script>

	<script src="js/shaders/BleachBypassShader.js"></script>
	<script src="js/shaders/ColorCorrectionShader.js"></script>
	<script src="js/shaders/CopyShader.js"></script>
	<script src="js/shaders/FXAAShader.js"></script>

	<script src="js/postprocessing/EffectComposer.js"></script>
	<script src="js/postprocessing/RenderPass.js"></script>
	<script src="js/postprocessing/ShaderPass.js"></script>
	<script src="js/postprocessing/MaskPass.js"></script>
    <script>
		var myload,mesh1;
		var scene = new THREE.Scene();
		var aspect = window.innerWidth/window.innerHeight;
		var directlight = new THREE.DirectionalLight(0xffffff);
		directlight.intensity = 2;
		directlight.position.set(0,0,1);
		scene.add(directlight);
		
		var camera = new THREE.PerspectiveCamera(78,aspect,0.1,10000);
		var renderer = new THREE.WebGLRenderer();
		renderer.setSize(window.innerWidth,window.innerHeight);
		document.body.appendChild(renderer.domElement);

		camera.position.z= 5;
		
		var material = new THREE.MeshPhongMaterial( {
					color: 0xdddddd,
					specular: 0x222222,
					shininess: 35,
					map: THREE.ImageUtils.loadTexture( "obj/Deer_body_D.jpg" ),
					specularMap: THREE.ImageUtils.loadTexture( "obj/Deer_body_S.jpg" ),
					normalMap: THREE.ImageUtils.loadTexture( "obj/Deer_body_N.jpg" ),
					normalScale: new THREE.Vector2( 0.8, 0.8 ),
					wrapRGB: new THREE.Vector3( 0.575, 0.5, 0.5 ),
					wrapAround: true
				} );
		
		THREE.Loader.Handlers.add( /\.dds$/i, new THREE.DDSLoader() );
		
		var loader = new THREE.OBJMTLLoader();
				loader.load( 'obj/Deer.obj', 'obj/Deer.mtl', function ( object ) {
					myload = object;
					object.position.y = -2.5;
					object.scale.x = 1.2;
					object.scale.y = 1.2;
					object.scale.z = 1.2;
					scene.add( object );

				}, onProgress, onError );
		
		var onProgress = function ( xhr ) {
				};
		var onError = function ( xhr ) {
				};
		var render = function (){
			requestAnimationFrame(render);
			renderer.render( scene, camera )
			if(myload)
			{
				myload.rotation.y+=0.01;
			}
			camera.lookAt( scene.position );
			};
		render();
	</script>
</body>
</html>
